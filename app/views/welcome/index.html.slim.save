title = i18n_meta('page_title')

meta name='description' content=i18n_meta('page_description')
meta name='keywords' content=i18n_meta('page_keywords')

header style="height: 50px;": .container style="width: auto; padding-left: 10px; padding-right: 10px; margin-top: -70px;"
  = render 'shared/pusher'
  nav#top-menu.navbar.navbar-default role="navigation" style="border-radius: 0px; height: 60px; border: 0px;"
    = render 'shared/menu'

.container style = "width: auto; max-width: 1150px; padding-left: 35px; padding-right: 35px;"
 .row style = "margin-left: 0px; margin-right: 0px; text-align: center;"
   section.home-hero style="width: 100%; float: left; margin-right: 4%; margin-top: 30px;"
    h2 style = "color: #55555; font-weight: bold;" #{t('slogan')}
    p.lead  #{t('slogan_small')}
    p
        a.btn.btn-success.btn-lg.btn-xs-block href="/signup" role="button"  #{t('signup_button')}

def news_search(query, results=10, start=1)
   base_url = "http://search.yahooapis.com/NewsSearchService/V1/newsSearch?appid=YahooDemo&output=json"
   url = "#{base_url}&query=#{URI.encode(query)}&results=#{results}&start=#{start}"
   resp = Net::HTTP.get_response(URI.parse(url))
   data = resp.body

   # we convert the returned JSON data to native Ruby
   # data structure - a hash
   result = JSON.parse(data)

   # if the hash has 'Error' as a key, we raise an error
   if result.has_key? 'Error'
      raise "web service error"
   end
   return result
end
